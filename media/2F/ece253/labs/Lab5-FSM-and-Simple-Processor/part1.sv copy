    module part1(
        input logic Clock,
        input logic Reset,
        input logic w,
        output logic z,
        output logic [3:0] CurState
    );
        typedef enum logic [3:0] {A, B, C, D, E, F, G} statetype;
                                  
        statetype y_Q, Y_D; // y_Q represents current state, Y_D represents next state

        //State table: should only contain the logic for state transitions
        //Do not mix in any output logic. The output logic should be handled separately.
        always_comb begin
            case(y_Q)
                A: begin
                       if(!w) Y_D = A;
                       else Y_D = B;
                   end
                B: begin
                       if(!w) Y_D = A;
                       else Y_D = C;
                    end
                C: begin
                       if(!w) Y_D = E;
                       else Y_D = D;
                    end
                D: begin
                       if(!w) Y_D = E;
                       else Y_D = F;
                    end
                E: begin
                       if(!w) Y_D = A;
                       else Y_D = G;
                    end
                F: begin
                       if(!w) Y_D = E;
                       else Y_D = F;
                    end
                G: begin
                       if(!w) Y_D = A;
                       else Y_D = C;
                    end
                default: Y_D = A;
            endcase
        end // state_table

        // State Registers
        always_ff@(posedge Clock) begin
            if(Reset == 1'b1)
                y_Q<=A;
            else
                y_Q <= Y_D;
        end // state_FFS

        // Output logic
        // Set out_light to 1 to turn on LED when in relevant states
        assign z = ((y_Q == F) | (y_Q == G));

        assign CurState = y_Q;        
    endmodule
    
    